<div class="container teamInformations mt-4" *ngIf="team">
    <div class="row align-items-center">
        <div class="col" id="logo" *ngIf="team.logo">
            <img src="{{ team.logo }}" alt="logo" id="teamLogo">
        </div>

        <div class="col" id="logo" *ngIf="!team.logo">

            <img src="../../../assets/Logo_v5.png" alt="teamTaverne" id="teamLogo" class="noTeamLogo" style="background: var(--navColorDarker);">
        </div >

        <div class="col-8">
            {{team.abbreviation | uppercase}}<br>

            {{team.name | uppercase}}
        </div>

        <ng-container *ngIf="player">
        
            <ng-container *ngIf="player.profile.isCaptain && player.team.id === team.id" >

            <button class="btn btn-info " style="width:fit-content"><fa-icon [icon]="faPenLine"></fa-icon>Modifier</button>

            </ng-container>

            <ng-container *ngIf="player.team.id === team.id">

                <button class="btn btn-danger" style="width:fit-content"><fa-icon [icon]="faArrowRight"></fa-icon>Quitter</button>

            </ng-container>

            <ng-container *ngIf="player.team.id === team.id && player.profile.isCaptain === true">

                <button class="btn btn-danger" style="width:fit-content"><fa-icon [icon]="faTrashCan"></fa-icon>Supprimer l'Ã©quipe</button>

            </ng-container>
        </ng-container>
        
    </div>

</div>

<div class="container mt-3" *ngIf="team && team.players">

    <div *ngFor="let role of roles" >

        <div class="row player" *ngIf="this.getPlayerByRole(role)">

            <div  class="col userRole">

                <div *ngIf="this.getPlayerByRole(role).profile.isCaptain === true" id="userRole">

                    <fa-icon [icon]="faCrown" id="crown"></fa-icon>

                </div>

                <div *ngIf="this.getPlayerByRole(role).profile.isCaptain === false" id="userRole">

                    <fa-icon [icon]="faUser" id="userIcon" (click)="makeCaptain(this.getPlayerByRole(role).id, team.id)"></fa-icon>

                </div>

            </div>

            <div class="col role" [ngSwitch]="this.getPlayerByRole(role).profile.role">

                <img src="../../../assets/Top_icon.png" alt="role" *ngSwitchCase="roleEnum.Toplaner" class="rolesIcon">

                <img src="../../../assets/Jungle_icon.png" alt="role" *ngSwitchCase="roleEnum.Jungler" class="rolesIcon">

                <img src="../../../assets/Middle_icon.png" alt="role" *ngSwitchCase="roleEnum.Midlaner" class="rolesIcon">

                <img src="../../../assets/Bottom_icon.png" alt="role" *ngSwitchCase="roleEnum.ADC" class="rolesIcon">

                <img src="../../../assets/Support_icon.png" alt="role" *ngSwitchCase="roleEnum.Support" class="rolesIcon">

                <fa-icon [icon]="faTrianglExclamation" *ngSwitchDefault></fa-icon>



            </div>

            <div class="col rank" [ngSwitch]="this.getPlayerByRole(role).profile.rank">

                <img src="../../../assets/challenger.png" alt="rank" *ngSwitchCase="rankEnum.Challenger" class="ranksIcon">

                <img src="../../../assets/grandmaster.png" alt="rank" *ngSwitchCase="rankEnum.GrandMaitre" class="ranksIcon">

                <img src="../../../assets/master.png" alt="rank" *ngSwitchCase="rankEnum.Maitre" class="ranksIcon">

                <img src="../../../assets/diamond.png" alt="rank" *ngSwitchCase="rankEnum.Diamant" class="ranksIcon">

                <img src="../../../assets/platine.png" alt="rank" *ngSwitchCase="rankEnum.Platine" class="ranksIcon">

                <img src="../../../assets/gold.png" alt="rank" *ngSwitchCase="rankEnum.Or" class="ranksIcon">

                <img src="../../../assets/silver.png" alt="rank" *ngSwitchCase="rankEnum.Argent" class="ranksIcon">

                <img src="../../../assets/bronze.png" alt="rank" *ngSwitchCase="rankEnum.Bronze" class="ranksIcon">

                <img src="../../../assets/iron.png" alt="rank" *ngSwitchCase="rankEnum.Fer" class="ranksIcon">

                <img src="../../../assets/unranked.png" alt="rank" *ngSwitchDefault class="ranksIcon">

            </div>

            <div class="col name" *ngIf="this.getPlayerByRole(role).profile.profilPicture">

                <img src="{{this.getPlayerByRole(role).profile.profilPicture}}" alt="profilPicture" class="profilPicture">

            

                <span id="name"> {{ this.getPlayerByRole(role).name }}</span>
            
            </div>

            <div class="col name" *ngIf="!this.getPlayerByRole(role).profile.profilPicture">

                <span id="name"> {{ this.getPlayerByRole(role).name }}</span>


            </div>

           


            

            <div class="col socials">

                <fa-icon [icon]="faDiscord" id="discordIcon"></fa-icon> {{ this.getPlayerByRole(role).profile.discord | uppercase }}<br>

                <img src="../../../assets/lol.png" alt="lolIG" class="icons" id="lolIcon"> {{ this.getPlayerByRole(role).profile.inGameName | uppercase }}
            
            </div>

            


        </div>

        <ng-container *ngIf="player">
            <ng-container *ngIf="!player.team">
            <div class="row player missing align-items-center d-flex" *ngIf="!this.getPlayerByRole(role)" (click)="joinTeamRequest(team.id);">

                <fa-icon [icon]="faTrianglExclamation" id="warningTriangle"></fa-icon>

                <span class> PLACE LIBRE | CLIQUEZ POUR REJOINDRE L'EQUIPE </span>

            </div>
            </ng-container>
            
            <ng-container *ngIf="player.team && player.team.id !== team.id">
            <div class="row player  align-items-center d-flex" *ngIf="!this.getPlayerByRole(role)">

                <fa-icon [icon]="faTrianglExclamation" id="warningTriangle"></fa-icon>

                <span class> PLACE LIBRE</span>

            </div>
            </ng-container>

           

            <ng-container *ngIf="player.profile.isCaptain && player.team.id === team.id">
            <div class="row player missing align-items-center d-flex" *ngIf="!this.getPlayerByRole(role)" (click)="joinTeamRequest(team.id);">

                <fa-icon [icon]="faTrianglExclamation" id="warningTriangle"></fa-icon>

                <span class> AJOUTER UN JOUEUR </span>

            </div>
            </ng-container>
        </ng-container>

        <ng-container *ngIf="!player">
            <div class="row player  align-items-center d-flex" *ngIf="!this.getPlayerByRole(role)">

                <fa-icon [icon]="faTrianglExclamation" id="warningTriangle"></fa-icon>

                <span class> PLACE LIBRE</span>

            </div>

        </ng-container>
    
    </div>
    
</div>


